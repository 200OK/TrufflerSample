@model TrufflerSample.Models.SearchResult

@{
    ViewBag.Title = "Basic";
}
<div class="page-header">
    <h1>Basic <small>The simplest of search listings</small></h1>
    <p>Search for something related to restaurants, such as "fish", "seafood" or "London".</p>
    <div class="source-link-wrap"><a id="source-link" href="#">View Source</a></div>
    <pre id="source-code">
var results = client.Search<Restaurant>(Language.English)
        .For(q)
        .Select(x => new SearchHit
            {
                Title = x.Name,
                Url = x.Website ?? x.WikipediaUrl,
                Location = new List<string> { x.StreetAddress, x.City, x.Country }.Concatenate(", "),
                MichelinRating = x.MichelinRating ?? 0
            })
        .GetResult();
    </pre>
    <script>
        $("#source-link").click(function () {
            $("#source-code").slideToggle();
            $("#source-link").toggleClass("open");
        });
    </script>
</div>
<div class="row">
    <div class="span14">
    @using (Html.BeginForm())
    {
        @Html.TextBox("q", ViewBag.Query as string)
        <input type="submit" value="Search" />
    }
    </div>
</div>
<div class="row">
    <div class="span10">
        @if (Model != null)
        {
            Html.RenderPartial("SearchHits");
        }
    </div>
    <div class="span4"></div>
</div>